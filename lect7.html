<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лекция № 7 - Модель процесса</title>
</head>
<body>
    <h1>Лекция № 7</h1>
    <h2>Модель процесса. Создание процесса. Завершение процесса</h2>

    <p>Процесс в операционных системах — это исполнение программы с учетом всех необходимых ресурсов. Когда процесс запускается, операционная система выделяет ему ресурсы (например, память, процессорное время и другие), управляет его выполнением, а по завершении освобождает эти ресурсы. Изучение процессов важно для понимания работы операционной системы, а также для оптимизации ее работы и разработки программного обеспечения.</p>

    <h3>1. Модель процесса</h3>
    <p>Модель процесса представляет собой абстракцию, которая описывает, как процессы работают в операционной системе, как они взаимодействуют с ресурсами и как выполняются.</p>
    
    <p>Рассмотрим основные компоненты модели процесса:</p>
    
    <p>Программа — это последовательность команд, которая выполняется процессором. Когда программа запускается, она превращается в процесс.</p>
    
    <p>Процесс — это активная сущность, представляющая собой выполнение программы, которая включает не только код, но и состояние выполнения, выделенные ресурсы (память, время процессора и т. д.), а также информацию о ее текущем состоянии.</p>
    
    <p>Процессорное время — это время, которое процессор выделяет для выполнения процесса. В многозадачных операционных системах процессы могут выполняться параллельно или поочередно.</p>
    
    <p>Основные компоненты процесса:</p>
    <ul>
        <li>Идентификатор процесса (PID) — уникальный номер, который операционная система присваивает каждому процессу.</li>
        <li>Состояние процесса — процесс может находиться в различных состояниях: готов к выполнению, выполняется в данный момент, заблокирован в ожидании ресурсов и т. д.</li>
        <li>Контекст процесса — включает в себя информацию, необходимую для продолжения выполнения процесса, такую как регистры процессора, стек вызовов, указатели на память и другие данные.</li>
    </ul>

    <h3>2. Создание процесса</h3>
    <p>Создание нового процесса — это важный шаг в операционной системе, и процесс создается с помощью системных вызовов. Основные этапы создания процесса:</p>
    
    <ul>
        <li>Инициализация процесса: Процесс создается при помощи системного вызова, как правило, fork() в операционных системах семейства UNIX или CreateProcess в Windows. Этот вызов приводит к тому, что операционная система выделяет память для нового процесса и копирует данные из родительского процесса.</li>
        <li>Копирование контекста: Новый процесс, как правило, является копией родительского процесса (когда используется системный вызов fork()), и в процессе создания копируются все данные, связанные с выполнением: память, регистрационные данные и т. д. Однако могут быть и другие случаи, например, создание процесса с новым кодом, как это происходит при вызове exec() в UNIX.</li>
        <li>Ресурсы: Операционная система выделяет процессу необходимые ресурсы, такие как память и время процессора. В многозадачной операционной системе управление процессами осуществляется с помощью планировщика, который решает, когда процесс будет выполняться.</li>
        <li>Назначение состояния процесса: После создания процесс может быть в одном из нескольких состояний: в очереди на выполнение, готов к исполнению, выполняется или ожидает ресурсы.</li>
    </ul>

    <h3>3. Завершение процесса</h3>
    <p>Завершение процесса — это последний этап его жизненного цикла. Это может произойти по разным причинам: выполнение всех команд программы, ошибка, получение сигнала от другого процесса и другие.</p>
    
    <p>Основные причины завершения процесса:</p>
    <ul>
        <li>Нормальное завершение: Процесс завершает свою работу, когда он выполнил все операции, для которых был создан. В UNIX-системах это может быть вызов системного вызова exit(), который освобождает все ресурсы, связанные с процессом.</li>
        <li>Завершение по ошибке: Процесс может завершиться с ошибкой, например, если он не смог получить нужные ресурсы, произошла ошибка в коде или возникла ошибка выполнения.</li>
        <li>Прерывание процесса: Процесс может быть принудительно завершен другими процессами (например, при помощи команды kill в UNIX или аналогичных команд в других системах).</li>
    </ul>
    
    <p>Процесс, завершивший выполнение, может оставаться в системе некоторое время в так называемом "зомби-состоянии". В это время его ресурсы еще не освобождены, но процесс уже не выполняется.</p>
    
    <p>Операционная система освобождает ресурсы и окончательно удаляет процесс только когда родительский процесс выполнит системный вызов wait().</p>

    <h3>4. Управление завершением процесса</h3>
    <p>Завершение процесса обычно происходит в несколько этапов:</p>
    
    <ul>
        <li>Освобождение ресурсов: память, дескрипторы файлов, другие ресурсы, которые были выделены процессу, освобождаются.</li>
        <li>Обработка статуса завершения: операционная система может оставить информацию о завершении процесса для его родителя, чтобы тот мог обработать результат работы дочернего процесса.</li>
        <li>Удаление процесса: процесс исчезает из списка процессов операционной системы.</li>
    </ul>

    <h3>Контрольные вопросы:</h3>
    <ol>
        <li>Что такое процесс в операционной системе? В чем отличие между программой и процессом?</li>
        <li>Опишите этапы создания нового процесса.</li>
        <li>Какие ресурсы выделяет операционная система для процесса при его создании?</li>
        <li>Что происходит при завершении процесса в операционной системе? Какие могут быть причины его завершения?</li>
        <li>Что такое "зомби-процесс" и когда он возникает?</li>
        <li>Какой системный вызов в UNIX используется для создания нового процесса?</li>
        <li>В чем заключается различие между нормальным завершением процесса и его завершением по ошибке?</li>
        <li>Как операционная система освобождает ресурсы, связанные с завершившим процессом?</li>
        <li>Что происходит в операционной системе, если родительский процесс не вызывает wait() для обработки завершения дочернего процесса?</li>
    </ol>
    
    <a href='lect7-1.html'>См. ответы</a>
</body>
</html>