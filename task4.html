<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>УП.05: Разработка модели архитектуры ИС на примере "Интернет-магазин"</title>
</head>
<body>
<h1>УП.05: Разработка модели архитектуры ИС на примере "Интернет-магазин"</h1>

<p>Цель: Спроектировать и отобразить графически основные компоненты системы, их взаимодействие и место в общей структуре.</p>

<h2>1. Выбор типа архитектуры</h2>
<p>Для веб-приложений, таких как интернет-магазин, наиболее распространена трехуровневая (трехзвенная) архитектура. Она обеспечивает модульность, масштабируемость и безопасность.</p>
<ul>
    <li>Уровень 1 (Presentation Layer): Клиентская часть (то, что видит пользователь в браузере).</li>
    <li>Уровень 2 (Business Logic Layer): Серверная часть (мозг системы, где выполняются все операции).</li>
    <li>Уровень 3 (Data Access Layer): Уровень данных (где хранится информация).</li>
</ul>

<h2>2. Декомпозиция архитектуры на модели (диаграммы)</h2>
<p>Одной картинкой архитектуру не описать. Нужно создать несколько взаимосвязанных моделей.</p>
<h3>Модель 1: Контекстная диаграмма (Диаграмма окружения)</h3>
<p><b>Задача:</b> Показать, с какими внешними системами и субъектами будет взаимодействовать наша ИС.</p>
<p><b>Пример для интернет-магазина:</b></p>
<ul>
    <li>Компоненты:</li>
    <ul>
        <li>Покупатель: Взаимодействует с системой через браузер.</li>
        <li>Платежный шлюз: Внешняя система для приема платежей (например, ЮKassa).</li>
        <li>Курьерская служба: Внешняя система для передачи данных о доставке и получения трек-номера.</li>
        <li>Администратор магазина: Управляет контентом и заказами через админ-панель.</li>
    </ul>
</ul>

<h3>Модель 2: Компонентная диаграмма (Логическая архитектура)</h3>
<p><b>Задача:</b> Показать основные программные модули (компоненты) системы и связи между ними.</p>
<ul>
    <li>Компоненты:</li>
    <ul>
        <li>Frontend (Клиентское приложение): Отвечает за отображение интерфейса (React, Vue.js).</li>
        <li>Backend (Серверное приложение):</li>
        <ul>
            <li>API Gateway: Единая точка входа для всех запросов.</li>
            <li>Модуль аутентификации (Auth): Регистрация, вход, управление сессиями.</li>
           <li> Модуль каталога (Catalog): Управление товарами, категориями, остатками.</li>
            <li>Модуль заказов (Order): Формирование корзины, оформление и отслеживание заказов.</li>
            <li>Модуль оплаты (Payment): Взаимодействие с платежным шлюзом.</li>
            <li>Модуль уведомлений (Notification): Отправка email и SMS.</li>
        </ul>
        <li>Уровень данных (Data Layer):</li>
        <ul>
            <li>База данных (PostgreSQL/MySQL): Основное хранилище структурированных данных.</li>
            <li>Кеш (Redis): Для хранения сессий и временных данных (например, корзина).</li>
            <li>Файловое хранилище (S3): Для изображений товаров и документов.</li>
        </ul>
    </ul>
</ul>

<h3>Модель 3: Физическая архитектура (Деплоймент-диаграмма)</h3>
<p><b>Задача:</b> Показать, на каких реальных или виртуальных серверах будут развернуты компоненты системы.</p>
<img src="task4-1.png"/>
<pre>
    <code>
        flowchart TD
            subgraph Internet [Интернет]
                direction LR
                A1[Пользователи]
                A2[Администраторы]
            end
        
            subgraph DMZ [Демилитаризованная зона<br>DMZ]
                B1[Балансировщик<br>нагрузки<br>Load Balancer]
            end
        
            subgraph InternalNetwork [Внутренняя сеть]
                subgraph WebTier [Веб-уровень]
                    C1[Веб-сервер 1<br>Nginx]
                    C2[Веб-сервер 2<br>Nginx]
                end
        
                subgraph AppTier [Уровень приложений]
                    D1[Сервер приложений 1<br>Node.js/Docker]
                    D2[Сервер приложений 2<br>Node.js/Docker]
                end
        
                subgraph DataTier [Уровень данных]
                    E1[Кластер БД<br>PostgreSQL]
                    E2[Сервер кеша<br>Redis]
                end
            end
        
            Internet --> DMZ
            DMZ --> WebTier
            WebTier --> AppTier
            AppTier --> DataTier
    </code>
</pre>
<ul>
    <li>Компоненты:</li>
    <ul>
        <li>Балансировщик нагрузки (Load Balancer): Распределяет трафик между веб-серверами.</li>
        <li>Веб-серверы (Nginx): Отдают статический контент (HTML, CSS, JS) и проксируют запросы к серверам приложений.</li>
        <li>Серверы приложений (Node.js, Java): На них развернута бэкенд-логика. Запущены в контейнерах Docker для простоты развертывания.</li>
        <li>Кластер БД: Основная база данных с репликацией для надежности.</li>
        <li>Сервер кеша (Redis): Отдельный сервер для быстрого доступа к временным данным.</li>
    </ul>
</ul>

<h3>Модель 4: Модель данных (ER-диаграмма)</h3>
<p><b>Задача:</b> Показать структуру базы данных — сущности, их атрибуты и связи.</p>
<p><i>(Упрощенный пример)</i></p>
<img src="task4-2.png"/>
<pre>
    <code>
        code
        erDiagram
            USERS {
                int id PK
                string email
                string password_hash
                string name
            }
        
            PRODUCTS {
                int id PK
                string name
                text description
                decimal price
                int category_id FK
            }
        
            CATEGORIES {
                int id PK
                string name
            }
        
            ORDERS {
                int id PK
                int user_id FK
                datetime order_date
                string status
                decimal total_amount
            }
        
            ORDER_ITEMS {
                int id PK
                int order_id FK
                int product_id FK
                int quantity
                decimal price
            }
        
            USERS ||--o{ ORDERS : "places"
            CATEGORIES ||--o{ PRODUCTS : "contains"
            ORDERS ||--o{ ORDER_ITEMS : "consists_of"
            PRODUCTS }o--o{ ORDER_ITEMS : "included_in"
    </code>
</pre>
<h3>Как оформить в отчете по УП.05</h3>
<ul>
    <li>Введение: Обоснование выбранного типа архитектуры (трехуровневая, микросервисная).</li>
    <li>Диаграммы: Представить все 4 модели с подробными пояснениями к каждому компоненту.</li>
    <li>Связь с требованиями: Показать, как архитектура удовлетворяет функциональным и нефункциональным требованиям (например, использование балансировщика нагрузки для обеспечения надежности).</li>
    <li>Вывод: Краткое резюме, почему предложенная архитектура является оптимальной для проекта.</li>
</ul>
<p>Эта работа покажет, что вы понимаете не только что делать, но и как это должно быть реализовано на практике.</p>

</body>
</html>